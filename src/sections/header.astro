---
import { SOCIAL } from '@/consts/social'

import HamburgerButton from '@/components/hamburger-button.astro'
---
<header id="header" class="bg-[color:var(--color-theme-dusk)] text-[color:var(--color-theme-pearl-bush)] flex flex-wrap items-center justify-between pt-12 pb-6 px-6 md:px-[120px] relative z-10 uppercase shadow-personalized">
  <!-- Desktop Nav -->
  <nav class="hidden lg:flex items-center space-x-12 font-bold text-xl z-10">
    <a href="#about" class="hover:scale-125 transition duration-500">About Me</a>
    <a href="#projects" class="hover:scale-125 transition duration-500">Projectes</a>
    <a href="#contact" class="hover:scale-125 transition duration-500">Contact</a>
  </nav>

  <!-- Mobile Menu Button -->
  <div class="lg:hidden">
    <button id="menuButton" aria-label="Abrir menú móvil" class="focus:outline-none">
      <HamburgerButton color="[color:var(--color-theme-pearl-bush)]"/>
    </button>
  </div>

  <!-- Mobile Nav -->
  <nav id="navMenu" class="absolute top-full left-0 w-full bg-[color:var(--color-theme-dusk)] hidden flex-col items-center text-xl font-bold lg:hidden transition duration-500 ease-in-out">
    <a href="#about" class="block w-full text-center py-6 hover:scale-125 transition duration-500">About Me</a>
    <a href="#projects" class="block w-full text-center py-6 hover:scale-125 transition duration-500">Projectes</a>
    <a href="#contact" class="block w-full text-center py-6 hover:scale-125 transition duration-500">Contact</a>
  </nav>

  <!-- Social Links -->
    <div class="flex items-center space-x-4">
      {
          SOCIAL.map(({url, image}) => 
              <a href={url} target="_blank" class="hover:scale-125 transition duration-500">
                  <image.logo/>
              </a>
          )
      }
    </div>
</header>

<!-- JS para abrir/cerrar menú -->
<script>
  const menuButton = document.getElementById("menuButton");
  const navMenu = document.getElementById("navMenu");

  menuButton.addEventListener("click", () => {
    navMenu.classList.toggle("hidden");
  });

  // Cierra el menú al hacer clic en un enlace (opcional y recomendado)
  navMenu.querySelectorAll("a").forEach(link => {
    link.addEventListener("click", () => {
      navMenu.classList.add("hidden");
    });
  });
</script>